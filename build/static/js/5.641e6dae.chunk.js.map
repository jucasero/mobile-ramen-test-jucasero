{"version":3,"sources":["../../../src/web.ts"],"names":["GeolocationWeb","options","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","pos","err","enableHighAccuracy","timeout","maximumAge","callback","id","watchPosition","window","clearWatch","parseInt","permissions","this","unavailable","query","name","permission","location","state","coarseLocation","unimplemented","WebPlugin","Geolocation"],"mappings":"wSAWaA,EAAe,kHA2DzB,OA3DyB,gGAC1B,WAAyBC,GAAyB,oGACzC,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,UAAUC,YAAYC,oBACpB,SAAAC,GACEL,EAAQK,EACV,IACA,SAAAC,GACEL,EAAOK,EACT,GAAC,eAECC,oBAAoB,EACpBC,QAAS,IACTC,WAAY,GACTX,GAGT,KAAE,2CACH,mDAlByB,IAkBzB,4EAED,WACEA,EACAY,GAA+B,iFAe9B,OAbKC,EAAKT,UAAUC,YAAYS,eAC/B,SAAAP,GACEK,EAASL,EACX,IACA,SAAAC,GACEI,EAAS,KAAMJ,EACjB,GAAC,eAECC,oBAAoB,EACpBC,QAAS,IACTC,WAAY,GACTX,IAEN,4BAESa,IAAE,2CACb,qDAtBA,IAsBA,yEAED,WAAiBb,GAAuB,2EACtCe,OAAOX,UAAUC,YAAYW,WAAWC,SAASjB,EAAQa,GAAI,KAAK,2CACnE,mDAJA,IAIA,+EAED,iGAC2B,qBAAdT,WAA8BA,UAAUc,YAAW,sBACtDC,KAAKC,YAAY,iDAAgD,uBAGhDL,OAAOX,UAAUc,YAAYG,MAAM,CAC1DC,KAAM,gBACN,OAFc,OAAVC,EAAa,EAAH,uBAGT,CAAEC,SAAUD,EAAWE,MAAOC,eAAgBH,EAAWE,QAAO,gDACxE,kDAXA,IAWA,iFAED,8FACQN,KAAKQ,cAAc,2BAA0B,gDACpD,kDAJA,MAIA,EA3DyB,C,MAAQC,GA8D9BC,EAAc,IAAI9B,C","file":"static/js/5.641e6dae.chunk.js","sourcesContent":["import { WebPlugin } from '@capacitor/core';\n\nimport type {\n  CallbackID,\n  GeolocationPlugin,\n  PermissionStatus,\n  Position,\n  PositionOptions,\n  WatchPositionCallback,\n} from './definitions';\n\nexport class GeolocationWeb extends WebPlugin implements GeolocationPlugin {\n  async getCurrentPosition(options?: PositionOptions): Promise<Position> {\n    return new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(\n        pos => {\n          resolve(pos);\n        },\n        err => {\n          reject(err);\n        },\n        {\n          enableHighAccuracy: false,\n          timeout: 10000,\n          maximumAge: 0,\n          ...options,\n        },\n      );\n    });\n  }\n\n  async watchPosition(\n    options: PositionOptions,\n    callback: WatchPositionCallback,\n  ): Promise<CallbackID> {\n    const id = navigator.geolocation.watchPosition(\n      pos => {\n        callback(pos);\n      },\n      err => {\n        callback(null, err);\n      },\n      {\n        enableHighAccuracy: false,\n        timeout: 10000,\n        maximumAge: 0,\n        ...options,\n      },\n    );\n\n    return `${id}`;\n  }\n\n  async clearWatch(options: { id: string }): Promise<void> {\n    window.navigator.geolocation.clearWatch(parseInt(options.id, 10));\n  }\n\n  async checkPermissions(): Promise<PermissionStatus> {\n    if (typeof navigator === 'undefined' || !navigator.permissions) {\n      throw this.unavailable('Permissions API not available in this browser');\n    }\n\n    const permission = await window.navigator.permissions.query({\n      name: 'geolocation',\n    });\n    return { location: permission.state, coarseLocation: permission.state };\n  }\n\n  async requestPermissions(): Promise<PermissionStatus> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n}\n\nconst Geolocation = new GeolocationWeb();\n\nexport { Geolocation };\n"],"sourceRoot":""}